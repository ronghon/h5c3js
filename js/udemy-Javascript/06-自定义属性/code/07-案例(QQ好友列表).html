<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			li{
				list-style: none;
			}
			#box{
				width: 250px;
				border: 1px solid black;
				margin: 20px;
			}
			#box h3{
				border: 1px solid black;
				height: 30px;
				line-height: 30px;
				padding-left: 20px;
				background: deepskyblue url(img/ico2.gif) no-repeat 7px center;
			}
			#box ul li{
				padding-left: 30px;
				line-height: 30px;
				border: 1px solid black;
			}
			#box ul .active{
				background: purple;
				color: white;
			}
		</style>
	</head>
	
	<body>
		<div id="box">
			<!--一个分组-->
			<div class="section">
				<!-- 分组标题-->
				<h3> 我的好友 <span>(3/10)</span> </h3>
				<!--分组好友-->
				<ul>
					<li>我的好友1</li>
					<li>我的好友2</li>
					<li>我的好友3</li>
					<li>我的好友4</li>
					<li>我的好友5</li>
					<li>我的好友6</li>
					<li>我的好友7</li>
				</ul>
			</div>
			
			<!--一个分组-->
			<div class="section">
				<!-- 分组标题-->
				<h3> 同学 <span>(3/10)</span> </h3>
				<!--分组好友-->
				<ul>
					<li>我的好友1</li>
					<li>我的好友2</li>
					<li>我的好友3</li>
					<li>我的好友4</li>
					<li>我的好友5</li>
					<li>我的好友6</li>
					<li>我的好友7</li>
				</ul>
			</div>
			
			<!--一个分组-->
			<div class="section">
				<!-- 分组标题-->
				<h3> 朋友 <span>(3/10)</span> </h3>
				<!--分组好友-->
				<ul>
					<li>我的好友1</li>
					<li>我的好友2</li>
					<li>我的好友3</li>
					<li>我的好友4</li>
					<li>我的好友5</li>
					<li>我的好友6</li>
					<li>我的好友7</li>
				</ul>
			</div>
		</div>
		
		<script type="text/javascript">
			var oBox = document.getElementById('box');
			var aSection = oBox.getElementsByTagName('div');
			
			// 给每个分组中的标题添加点击操作
			for (var i=0; i<aSection.length; i++) {
				// 获取到对应分组的标题元素
				var oTitle = aSection[i].getElementsByTagName('h3')[0];
				// 默认是展开
				oTitle.isShow = true;
				// 对应组的编号
				oTitle.index = i;
				
				oTitle.onclick = function(){
					// 改变状态
					this.isShow = !this.isShow;
					// console.log(this.isShow)
					
					// 改变对应样式
					// i是固定的
					// aSection[i].getElementsByTagName('ul')[0]
					var oLists = aSection[this.index].getElementsByTagName('ul')[0];
					if(this.isShow){	// 展开
						oLists.style.display = 'block';
						this.style.backgroundImage = 'url(img/ico2.gif)';
					} else {	// 折叠
						oLists.style.display = 'none';
						this.style.backgroundImage = 'url(img/ico1.gif)';
					}
				}
				
				// 获取到每个分组，并给每个分组下的li添加点击操作
				var aFriend = aSection[i].getElementsByTagName('li');
				for(var j=0; j<aFriend.length; j++){
					aFriend[j].onclick = function(){
						// 清除样式(全部)
						for(var k=0; k<aSection.length; k++){
							// 对应分组下li
							var aTemp = aSection[k].getElementsByTagName('li');
							
							for(var y=0; y<aTemp.length; y++){
								aTemp[y].className = '';
							}
						}
						
						// 添加选中样式
						this.className = 'active';
					}
				}
			}
		</script>
	</body>
</html>
